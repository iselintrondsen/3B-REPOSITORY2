<!DOCTYPE html>
<!-- DOKUMENT INFORMASJON -->
<html lang="en"><head>
    <title>Gruppe oppgave - How We Roll</title>
    <meta charset="utf-8">
    <meta name="description" content="How We Roll">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans:300,400,700,800&display=swap" rel="stylesheet">
  </head>
  <body>
<!-- HEADER MED NAVIGASJONSBAR OG LOGO, HVIS DU TRYKKER PÅ DEN KOMMER DU TILBAKE TIL FREMSIDEN (INDEX) -->
    <header>
        <div class="logo">
        <a href="index.html"><img src="images/uialogo1.jpg" height="60px" alt="UIA logo"></a>
        <a href="index.html"><p>How We Roll</p></a>
      </div>
      <nav>
        <a href="index.html" class="active">Hjem</a>
        <a href="kontaktinfo.html">Kontakt info</a>
        <a href="møtereferat.html">Møte referat</a>
        <a href="WEB-RAPPORT.html">WEB-RAPPORT</a>
        <a href="kartlegging.html">Kartlegging</a>
        <a href="kartleggingskjema.html">Kartlegging-skjema</a>
      </nav>
    </header>
    <main>
  <!-- FREMSIDE TOP SEKSJON PRESENTASJON AV GRUPPE OG PROSJEKT-->
      <section class="top-section">
        <div class="title-text">
          <h1>Gruppe prosjekt <br><p>"How We Roll"</p></h1>
        </div>
     </section>
    </main>

  <!-- WEB FORM KARTLEGGINGSSKJEMA SOM VISER TO YTTERPUNKTER  -->
  <!-- SENTRERER FORM -->
    <div class="container centered"></div> 
 <form>
  <!-- INPUT BOKS TIL NAVN -->
      <p><label for="navn">Fornavn</label> 
      <input type="text" name="navn" id="navn" /></p>

     <p><b>Hvilket av alternativene foretrekker du?</b></p>

<p>
  <label for="natteravn">Morgenfugl</label>
  <input type="range" id="natteravn" name="natteravn" value="100" min="0" max="200">
  <label for="natteravn">Natteravn</label>
</p>

<p>
  <label for="jobbesammen">Jobbe sammen</label>
  <input type="range" id="jobbesammen" name="jobbesammen" value="100" min="0" max="200"> 
  <label for="natteravn">Tenke alene</label>
</p>

<p>
  <label for="grundig">Gå i detalj</label>
  <input type="range" id="grundig" name="grundig" value="100" min="0" max="200">
  <label for="grundig">Hoppe rett i det</label>
</p>

<p>
  <label for="snakke">Snakke om det</label>
  <input type="range" id="snakke" name="snakke" value="100" min="0" max="200"> 
  <label for="snakke">Gå videre</label>
</p>

<p>
  <label for="oppgaven">Forstå oppgaven i plenum</label>
  <input type="range" id="oppgaven" name="oppgaven" value="100" min="0" max="200"> 
  <label for="oppgaven">Forstå oppgaven selv</label>
</p>

<p>
  <label for="avbrutt">Avtal samtale</label>
  <input type="range" id="avbrutt" name="avbrutt" value="100" min="0" max="200">
  <label for="oppgaven">Samtale når som helst </label>
</p>

<p>
  <label for="video">Video samtale</label>
  <input type="range" id="video" name="video" value="100" min="0" max="200"> 
  <label for="oppgaven">Tekst</label>
</p>


<p>
  <label for="jobbe">Jobbe 09-17</label>
  <input type="range" id="jobbe" name="jobbe" value="100" min="0" max="200"> 
  <label for="oppgaven">Ingen timeplan</label>
</p>

<p>
  <label for="tidlig">Tidlig lunsj</label>
  <input type="range" id="tidlig" name="tidlig" value="100" min="0" max="200"> 
  <label for="oppgaven">Sen lunsj</label>
</p>

<p>
  <label for="arbeidsdager">Fem korte arbeidsdager</label>
  <input type="range" id="arbeidsdager" name="arbeidsdager" value="100" min="0" max="200"> 
  <label for="oppgaven">Fire lange arbeidsdager</label>
</p>

<p>
  <label for="kanbanscrum">Kanban</label>
  <input type="range" id="kanbanscrum" name="kanbanscrum" value="100" min="0" max="200"> 
  <label for="oppgaven">Scrum</label>
</p>

<!--Send knapp-->
<button type="submit">Send</button>

</form>

<hr>
<p>JSON Output</p>
<!--Output console for å vise JSON dataen-->
<div>
<!--Her viser vi JSON data som vi får fra responsen-->
    <pre id="output"></pre>

<!--Lenk til JSON data på serveren. -->
    <a id="json-api" href="" target="_blank"></a>
    <div>
</div>

<!-- JavaScript som tar i mot og returnerer svar i Json format- kode hentet fra developer mozilla.org. Ved hjelp av POSTDATA funksjon, som bruker den 
innebygde fetch funksjonen i JavaScript til å kommunisere med den eksterne serveren. Data blir da sendt ved hjelp av HTTP POST. Hva slags data
som sendes og hvilket format det er i ligger i header.-->

<script>
async function postData(url = '', data = {}) {  //Asynkron funksjon så resten av koden ikke venter på nettverket
       
       const response = await fetch(url, {
           method: 'POST', 
           mode: 'cors', 
           cache: 'no-cache',
           credentials: 'same-origin', 
           headers: {
               'Content-Type': 'application/json', // Forteller hvilken type data som blir sendt til servere
                
           },
           redirect: 'follow', 
           referrerPolicy: 'no-referrer', 
           body: JSON.stringify(data)  // Konverterer verdier til JSON tekst-strenge
       });
       return response.json(); 
   }
// Ekstern server

   function handleSubmit(event) {
        event.preventDefault(); // Forhindrer browser i å håndtere submit event, uden denne linjen ville resten av koden ikke kjører
        const data = new FormData(event.target);
        const formJSON = Object.fromEntries(data.entries());
        const results = document.querySelector('pre');
        postData('https://bacit.info/', formJSON)
        .then(data => {
           results.innerText = JSON.stringify(data, null, 2);
           document.querySelector("#json-api").innerHTML = "Open JSON data"
           document.querySelector("#json-api").href = `https://bacit.info/hwr/${data.time}-${data.trxid}.json`
        });

   }
   const form = document.querySelector('form'); // Finner form i HTML og legger dette inn i js kontekst,
   form.addEventListener('submit', handleSubmit); // Forteller derretter Javascript fortolkeren hvordan et 'submit' event skal håndteres.

   function responseTest(input) { // TEST - Har vi har motatt timestamp og trxid
            if (input.trxid) {         // Sann hvis ja
                console.log("Timestamp: " + input.time);
                console.log("Transaksjons id: " + input.trxid);
            }
            else {
                console.log("Ingen transaksjons id :(");
                postData.catch();
            }
        }

</script>
</body>
<!-- FOOTER DEL 1 SOM DELER BUNNSEKSJON INN I TRE VERTIKALE DELER -->
<footer>
  <section class="footer-top">
    <div class="card">
      <h5>Gruppe medlemmer</h5>
      <p>
        Iselin Trondsen <br>
        Casper Døviken <br>
        Kristian Follegg <br>
        Samuel Systad <br>
        Victoria Nygård <br>
        Amanda Fiona <br>
      </p>
    </div>
    <div class="card">
      <h4>IT og Informasjonssystemer</h4>
      <p>
        Vi er studenter ved UIA. Noen av oss tar et årsstudium, og noen tar en bachelor i IT og Informasjonssystemer. 
        Denne oppgaven har vi fått i faget IS-114 - Samskaping - Kommunikasjon og prosjektarbeid. 
      </p>
    </div>
    <div class="card">
      <h5>Universitetet i Agder</h5>
      <p>
        Kristiansand
      </p>
      
    </div>
  </section>
  <!-- FOOTER DEL2 -->
  <section class="footer-end">
    
    <p>2022 @ All rights reserved</p>
  </section>
</footer>

</html>